<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#16a34a">
    <title>Daily Drilling Report</title>
    
    <!-- External Dependencies -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <!-- Tailwind Configuration -->
    <script src="tailwind-config.js"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="root">
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; flex-direction: column;">
            <div style="font-size: 24px; margin-bottom: 10px;">Loading...</div>
            <div style="font-size: 14px; color: #666;">Please wait while the application loads</div>
        </div>
    </div>

    <!-- Shared Modules Loader -->
    <script src="../shared/loader.js"></script>

    <!-- Main Application - Load after modules are ready -->
    <script>
        // Wait for shared modules before loading main app
        window.addEventListener('sharedModulesLoaded', () => {
            console.log('sharedModulesLoaded event received, loading app.js...');
            console.log('Babel available:', typeof Babel);

            const script = document.createElement('script');
            script.type = 'text/babel';
            script.src = 'app.js';
            script.onload = () => {
                console.log('app.js loaded, triggering Babel transformation...');
                // Manually trigger Babel to transform the script
                if (window.Babel && window.Babel.transformScriptTags) {
                    window.Babel.transformScriptTags();
                }
            };
            script.onerror = (e) => console.error('Failed to load app.js', e);
            document.body.appendChild(script);

            console.log('Script element created and appended');
        });
    </script>
</body>
</html>
